---
import { SEO } from "astro-seo";
import { t } from "i18next";
import { HeadHrefLangs } from "astro-i18next/components";
import { ViewTransitions } from "astro:transitions";
import RichResults from "@/components/layout/RichResults.astro";


const determineCanonicalURL = () => {
  if (Astro.url.host.includes("localhost")) return "http://localhost:4321";
  return Astro.url.pathname;
};

const canonicalURL = new URL(determineCanonicalURL(), Astro.site);
const screenshot = new URL('/screenshot.webp', Astro.url)

---
<SEO
  charset="UTF-8"
  title={t("site.title") || "Himel 🧑🏾 Portfolio"}
  description={t("site.description") || "Himel Majumder Porfolio 🧑🏾"}
  canonical={canonicalURL}
  openGraph={{
    basic: {
      title: "Himel Majumder Porfolio",
      type: "website",
      image: "https://himelmaj.vercel.app/screenshot.webp",
      url: canonicalURL,
    },
  }}
  twitter={{
    card: "summary_large_image",
    site: "@himelmaj",
    title: "Himel Majumder Porfolio",
    creator: "@himelmaj",
    image: screenshot,
    imageAlt: "Himel Majumder Porfolio",
    description: "Himel Majumder Porfolio 🧑🏾",
  }}
  extend={{
    link: [
      {
        rel: "icon",
        type: "image/png",
        sizes: "32x32",
        href: "/favicon-32x32.png",
      },
      {
        rel: "icon",
        type: "image/png",
        sizes: "16x16",
        href: "/favicon-16x16.png",
      },
      {
        rel: "icon",
        type: "image/ico",
        href: "/favicon.ico",
      },
      {
        rel: "apple-touch-icon",
        type: "image/png",
        href: "/apple-touch-icon.png",
      },
      {
        rel: "android-chrome-192x192",
        type: "image/png",
        sizes: "192x192",
        href: "/android-chrome-192x192.png",
      },
      {
        rel: "android-chrome-512x512",
        type: "image/png",
        sizes: "512x512",
        href: "/android-chrome-512x512.png",
      },
      {
        rel: "manifest",
        href: "/site.webmanifest",
      },
    ],

    meta: [
      {
        name: "description",
        content: "Himel Majumder Portfolio",
      },
      {
        name: "author",
        content: "Himel Majumder",
      },
      {
        name: "viewport",
        content: "width=device-width, initial-scale=1.0, shrink-to-fit=no",
      },
      {
        name: "robots",
        content: "index",
      },
      {
        name: "keywords",
        content: "Himel Majumder, Portfolio, Developer, Projects, Full Stack Developer, Web Developer, Frontend Developer, Backend Developer",
      },
    ],
  }}
/>


<link rel="sitemap" href="/sitemap-index.xml" />
<RichResults />
<HeadHrefLangs />
<ViewTransitions />